<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Calculator</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        #inner {
            max-width: 100vw;
        }

        ul {
            max-width: 100%;
            padding: 0;
            list-style: none;
            display: grid;
            grid-template-columns: 5vw 5vw 5vw 5vw;
        }

        ul li button{
            width: 100%; 
        }

        ul li:nth-child(13) {
            grid-column-start:1;
            grid-column-end: 3;
        }
    </style>
</head>
<body>
    <main>
        <div id="inner">
            <div id="display">
                <input type="text"></input>
            </div>
            <div id="keys">
                <ul>
                    <li><button>7</button></li>
                    <li><button>8</button></li>
                    <li><button>9</button></li>
                    <li><button>+</button></li>
                    <li><button>4</button></li>
                    <li><button>5</button></li>
                    <li><button>6</button></li>
                    <li><button>-</button></li>
                    <li><button>1</button></li>
                    <li><button>2</button></li>
                    <li><button>3</button></li>
                    <li><button>*</button></li>
                    <li><button>=</button></li>
                    <li><button>Clear</button></li>
                    <li><button>/</button></li>
                </ul>
            </div>
        </div>
    </main>
    <script>
        $(document).ready(function() {
            // Calculator Buttons
            $('button').on('click', function(e) {
                const c = e.target.innerHTML
                if (c === 'Clear') {
                    $('input[type=text]').val('')
                } else if (c === '=') {

                } else {
                    // get the last input character
                    let l = $('input[type=text]').val()
                    l = l.charAt((l.length-1))
                    // ensure that we are not using two operators back to back
                    let ops = {c: false, l: false}
                    if (c === '+' || c === '-' || c === '/' || c === '*') {
                        ops.c = true
                    }
                    if (l === '+' || l === '-' || l === '/' || l === '*') {
                        ops.l = true
                    }
                    // print to display if allowed
                    if (ops.c && ops.l) {
                        return
                    } else {
                        $('input[type=text]').val($('input[type=text]').val() + c)
                    }
                }
            })
            // Entering data right into the input field
            $('input[type=text]').on('keypress', function(e) {
                let keys = [42,43,45,47,48,49,50,51,52,53,54,55,56,57]
                if (!keys.includes(e.which)) {
                    e.preventDefault()
                }
            })
        })
    </script>
</body>
</html>